<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ƒêƒÉng k√Ω t√†i kho·∫£n</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{/css/register.css}">

</head>
<body>
<div class="backdrop">
    <div class="card" role="dialog" aria-modal="true" aria-labelledby="dlg-title">
        <button class="close" onclick="window.location.href='/'" aria-label="ƒê√≥ng"></button>

        <div class="logo-row">
            <img class="logo" src="/images/coolclub-logo.avif" alt="COOL CLUB">
        </div>

        <h1 class="title" id="dlg-title">R·∫•t nhi·ªÅu ƒë·∫∑c quy·ªÅn v√† quy·ªÅn l·ª£i mua s·∫Øm ƒëang ch·ªù b·∫°n</h1>
        <div class="muted">Quy·ªÅn l·ª£i d√†nh ri√™ng cho b·∫°n khi tham gia Coolclub</div>

        <div class="perks">
            <div class="perk"><img src="/images/perk-voucher.avif" alt="Voucher ∆∞u ƒë√£i"><div><strong>Voucher ∆∞u ƒë√£i</strong></div></div>
            <div class="perk"><img src="/images/perk-gift.avif" alt="Qu√† t·∫∑ng ƒë·ªôc quy·ªÅn"><div><strong>Qu√† t·∫∑ng ƒë·ªôc quy·ªÅn</strong></div></div>
            <div class="perk"><img src="/images/perk-cash.avif" alt="Ho√†n ti·ªÅn CoolCash"><div><strong>Ho√†n ti·ªÅn CoolCash</strong></div></div>
        </div>

        <div class="section-label">ƒêƒÉng k√Ω t√†i kho·∫£n (mi·ªÖn ph√≠)</div>

        <div class="socials">
            <a class="social-btn" href="/oauth2/authorization/google" title="ƒêƒÉng k√Ω v·ªõi Google">
                <img src="/images/ic-google.png" alt="Google">
            </a>
            <a class="social-btn" href="#" title="ƒêƒÉng k√Ω v·ªõi Facebook (mock)">
                <img src="/images/ic-facebook.png" alt="Facebook">
            </a>
        </div>

        <div class="or">Ho·∫∑c</div>

        <!-- REGISTER FORM -->
        <form th:action="@{/auth/register}" method="post" id="registerForm" novalidate>
            <div class="float-field">
                <input class="float-input" type="text" name="fullName" id="fullName" placeholder=" " required minlength="2" maxlength="100">
                <label class="float-label" for="fullName">H·ªç v√† t√™n</label>
            </div>

            <div class="row-2">
                <div class="float-field">
                    <input class="float-input" type="tel" name="phone" id="phone" placeholder=" "
                           pattern="^[0-9]{9,11}$" required>
                    <label class="float-label" for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
                </div>
                <div class="float-field">
                    <input class="float-input" type="email" name="email" id="email" placeholder=" " required>
                    <label class="float-label" for="email">Email</label>
                </div>
            </div>

            <div class="float-field">
                <input class="float-input" type="password" name="password" id="pwd" placeholder=" " required minlength="6">
                <label class="float-label" for="pwd">M·∫≠t kh·∫©u</label>
                <span class="toggle-eye" data-target="pwd">üëÅ</span>
            </div>

            <div class="float-field">
                <input class="float-input" type="password" name="confirmPassword" id="pwd2" placeholder=" " required minlength="6">
                <label class="float-label" for="pwd2">X√°c nh·∫≠n m·∫≠t kh·∫©u</label>
                <span class="toggle-eye" data-target="pwd2">üëÅ</span>
            </div>

            <label class="agree">
                <input type="checkbox" name="agree" required>
                <span>T√¥i ƒë·ªìng √Ω v·ªõi <a th:href="@{/terms}">ƒêi·ªÅu kho·∫£n</a> &amp; <a th:href="@{/privacy}">Ch√≠nh s√°ch</a>.</span>
            </label>

            <button class="btn btn-primary" type="submit">ƒêƒÇNG K√ù T√ÄI KHO·∫¢N</button>
        </form>

        <div class="links">
            <span>ƒê√£ c√≥ t√†i kho·∫£n? <a th:href="@{/auth/login}">ƒêƒÉng nh·∫≠p</a></span>
            <a th:href="@{/auth/forgot}">Qu√™n m·∫≠t kh·∫©u</a>
        </div>
    </div>
</div>

<script>
    // toggle eye for both password fields
    document.querySelectorAll('.toggle-eye').forEach(el=>{
        el.addEventListener('click', ()=>{
            const id = el.getAttribute('data-target');
            const input = document.getElementById(id);
            input.type = input.type === 'password' ? 'text' : 'password';
        });
    });

    // simple client check: confirm password
    const form = document.getElementById('registerForm');
    form.addEventListener('submit', (e)=>{
        const p1 = document.getElementById('pwd').value;
        const p2 = document.getElementById('pwd2').value;
        if(p1 !== p2){
            e.preventDefault();
            alert('M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp.');
        }
    });
</script>
</body>
</html>
