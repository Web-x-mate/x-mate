<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{client/layout/base}">

<body>
<th:block layout:fragment="headExtras">
    <meta name="_csrf" th:content="${_csrf?.token}"/>
    <meta name="_csrf_header" th:content="${_csrf?.headerName}"/>
    <link rel="stylesheet" th:href="@{/css/cart.css}"/>
</th:block>

<div layout:fragment="content">
    <section class="cart-page">
        <div class="container">
            <section class="free-ship">
                <div class="fs-top">
                    <span id="fs-text">Miễn phí vận chuyển cho đơn từ 500.000đ</span>
                    <span id="fs-right"></span>
                </div>
                <div class="fs-bar"><div id="fs-bar-fill"></div></div>
                <div class="fs-scale"><span>0</span><span>500k</span></div>
            </section>

            <div class="row">
                <div class="card">
                    <div class="list-head">
                        <label class="chk-all"><input id="chk-all" type="checkbox"/> <span>Chọn tất cả</span></label>
                        <button id="btnDeleteSelected" class="btn btn-danger btn-sm">Xóa tất cả</button>
                    </div>

                    <table>
                        <thead>
                        <tr>
                            <th class="chk"></th>
                            <th>Sản phẩm</th>
                            <th class="center nowrap">Đơn giá</th>
                            <th class="center nowrap" style="width:200px;">Số lượng</th>
                            <th class="right nowrap">Thành tiền</th>
                            <th class="right" style="width:72px;"></th>
                        </tr>
                        </thead>
                        <tbody id="cart-body"></tbody>
                    </table>

                    <div id="empty" class="empty" style="display:none;">Giỏ hàng trống.</div>
                </div>

                <aside class="card summary">
                    <div class="voucher-strip" id="voucherStrip" hidden>
                        <button class="nav prev" type="button" aria-label="Prev">&lsaquo;</button>
                        <div id="coupon-list" class="tickets"></div>
                        <button class="nav next" type="button" aria-label="Next">&rsaquo;</button>
                    </div>

                    <div class="coupon">
                        <input id="coupon" type="text" placeholder="Nhập mã giảm giá">
                        <button id="btnCoupon" class="btn btn-primary" type="button">ÁP DỤNG</button>
                    </div>

                    <div class="rowline"><div class="muted">Tạm tính</div><div id="subtotal" class="nowrap">0 đ</div></div>
                    <div class="rowline"><div class="muted">Giảm giá</div><div id="discount" class="nowrap">0 đ</div></div>
                    <div class="rowline">
                        <div class="muted">Phí vận chuyển</div>
                        <div class="nowrap"><span id="shipping">0 đ</span> <span id="ship-badge" class="badge-free" hidden>Miễn phí</span></div>
                    </div>
                    <hr>
                    <div class="rowline total"><div>Tổng cộng</div><div id="total" class="nowrap">0 đ</div></div>

                    <div class="actions actions-right">
                        <a class="btn" th:href="@{/}">&larr; Tiếp tục mua</a>
                        <a id="btnCheckout" class="btn btn-primary" th:href="@{/checkout}">Thanh toán</a>
                    </div>
                </aside>
            </div>
        </div>
    </section>
</div>

<th:block layout:fragment="bodyExtras">
    <script defer th:src="@{/js/cart.js}"></script>
</th:block>
</body>
</html>
