
<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<head>
    <meta charset="UTF-8">
    <title th:text="${category != null and category.id != null} ? 'Sửa danh mục' : 'Tạo mới danh mục'"></title>
        <link rel="stylesheet" th:href="@{/css/catalog/categories/form.css}">

        
</head>
<body>
<section layout:fragment="content">
    <div class="wrap">
        <h1 class="section-title" th:text="${category != null and category.id != null} ? 'Sửa danh mục' : '✨ Tạo mới danh mục'">Tạo mới danh mục</h1>

        <div class="card">
            <form th:action="${category != null and category.id != null}
                              ? @{'/admin/catalog/categories/' + ${category.id} + '/edit'}
                              : @{/admin/catalog/categories/new}"
                  method="post" class="stack">

                <input type="hidden" th:if="${_csrf != null}"
                       th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <div>
                    <label for="name" class="label">Tên danh mục <span class="required-star">*</span></label>
                    <input type="text" id="name" name="name" class="field"
                           th:value="${category != null} ? ${category.name} : ''" required>
                </div>

                <div>
                    <label for="slug" class="label">URL chuẩn hóa (Slug) <span class="required-star">*</span></label>
                    <input type="text" id="slug" name="slug" class="field"
                           th:value="${category != null} ? ${category.slug} : ''" required>
                </div>

                <div>
                    <label for="parentId" class="label">Danh mục cha (Parent Id)</label>
                    <input type="number" id="parentId" name="parentId" class="field"
                           th:value="${category != null and category.parent != null} ? ${category.parent.id} : ''"
                           placeholder="Để trống nếu là danh mục gốc">
                </div>

                <div class="form-check">
                    <input type="checkbox" id="active" name="active"
                           th:checked="${category == null || category.active == null ? true : category.active}">
                    <label for="active">Kích hoạt (Active)</label>
                </div>

                <div class="form-actions">
                    <a th:href="@{/admin/catalog/categories}" class="btn btn-outline btn-lg">← Quay lại</a>
                    <button type="submit" class="btn btn-primary btn-lg"
                            th:text="${category != null and category.id != null} ? 'Cập nhật' : ' Tạo mới'">Tạo mới</button>
                </div>
            </form>
        </div>
    </div>
</section>
</body>
</html>