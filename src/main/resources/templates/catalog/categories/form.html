<!--<!DOCTYPE html>-->
<!--<html lang="vi"-->
<!--      xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout/main}">-->
<!--<body>-->
<!--<section layout:fragment="content">-->
<!--    <h1 th:text="${category != null and category.id != null} ? 'S·ª≠a danh m·ª•c' : 'T·∫°o m·ªõi danh m·ª•c'">T·∫°o m·ªõi danh m·ª•c</h1>-->

<!--    <form th:action="${category != null and category.id != null}-->
<!--                      ? @{'/admin/catalog/categories/' + ${category.id} + '/edit'}-->
<!--                      : @{/admin/catalog/categories/new}"-->
<!--          method="post">-->

<!--        <input type="hidden" th:if="${_csrf != null}"-->
<!--               th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->

<!--        <label for="name">Name *</label>-->
<!--        <input type="text" id="name" name="name"-->
<!--               th:value="${category != null} ? ${category.name} : ''" required>-->

<!--        <label for="slug">Slug *</label>-->
<!--        <input type="text" id="slug" name="slug"-->
<!--               th:value="${category != null} ? ${category.slug} : ''" required>-->

<!--        <label for="parentId">Parent Id</label>-->
<!--        <input type="number" id="parentId" name="parentId"-->
<!--               th:value="${category != null and category.parent != null} ? ${category.parent.id} : ''"-->
<!--               placeholder="ƒê·ªÉ tr·ªëng n·∫øu l√† root">-->

<!--        <div>-->
<!--            <input type="checkbox" id="active" name="active"-->
<!--                   th:checked="${category == null || category.active == null ? true : category.active}">-->
<!--            <label for="active">Active</label>-->
<!--        </div>-->

<!--        <button type="submit"-->
<!--                th:text="${category != null and category.id != null} ? 'C·∫≠p nh·∫≠t' : 'T·∫°o m·ªõi'">T·∫°o m·ªõi</button>-->
<!--        <a th:href="@{/admin/catalog/categories}">Quay l·∫°i danh s√°ch</a>-->
<!--    </form>-->
<!--</section>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<head>
    <meta charset="UTF-8">
    <title th:text="${category != null and category.id != null} ? 'S·ª≠a danh m·ª•c' : 'T·∫°o m·ªõi danh m·ª•c'"></title>
    <style>
        /*
        ====================================================
        1. BI·∫æN CSS V√Ä M√ÄU S·∫ÆC SEMANTIC (D√πng t·ª´ create_orders)
        ====================================================
        */
        :root {
            /* M√†u n·ªÅn v√† ch·ªØ c∆° b·∫£n */
            --bg:#F8F9FA;      /* N·ªÅn Dashboard */
            --surface:#FFFFFF; /* N·ªÅn Cards/Widgets (N·ªÅn form) */
            --text:#212529;    /* VƒÉn b·∫£n Ch√≠nh */
            --muted:#6C757D;   /* VƒÉn b·∫£n Ph·ª•, ƒë∆∞·ªùng l∆∞·ªõi */
            --bd:#DEE2E6;      /* Vi·ªÅn/ƒê∆∞·ªùng chia */
            --ring:rgba(0, 123, 255, 0.4); /* V√≤ng focus */

            /* M√†u Primary */
            --primary:#007BFF;
            --primary-hover:#0056B3;

            /* M√†u Semantic */
            --success:#28A745;
        }

        /* Layout helpers */
        .wrap { max-width:800px; margin:0 auto; padding: 24px 0; }
        .card { background:var(--surface); border:1px solid var(--bd); border-radius:1rem;
            box-shadow:0 1px 3px rgba(33,37,41,.1); padding:36px; }
        .stack { display:grid; gap:16px; }

        /* Ti√™u ƒë·ªÅ */
        .section-title { font-size:28px; font-weight:800; margin:0 0 20px 0; color:var(--text); text-align:center; }

        /* Inputs (Class field) */
        .field {
            width:100%; padding:.75rem .9rem;
            border:1px solid var(--bd); border-radius:.75rem;
            background:var(--surface); font-size:.95rem; color:var(--text); transition:.18s ease;
        }
        .field:focus { outline:none; box-shadow:0 0 0 3px var(--ring); border-color:var(--primary); }

        .label { display:block; font-size:.875rem; color:var(--muted); margin-bottom:.35rem; font-weight:500; }
        .required-star { color:var(--danger, #DC3545); }

        /* Buttons (ƒê·ªìng b·ªô) */
        .btn { font-weight:600; line-height:1.1; border:1px solid transparent; white-space:nowrap; cursor:pointer; transition:.18s ease; }
        .btn-lg { font-size:1rem; padding:.75rem 1.2rem; border-radius:.75rem; min-width:140px; box-shadow:0 1px 2px rgba(33,37,41,.05); }
        .btn-primary { background:var(--primary); border-color:var(--primary); color:#fff !important; font-weight:700; }
        .btn-primary:hover { background:var(--primary-hover); border-color:var(--primary-hover); }
        .btn-outline { background:var(--surface); color:var(--text); border:1px solid var(--bd); font-weight:600; }
        .btn-outline:hover { background:var(--bg); }

        .form-actions { display:flex; justify-content:flex-end; gap:12px; flex-wrap:wrap; margin-top:30px; }

        /* Checkbox T√πy ch·ªânh */
        .form-check { display:flex; align-items:center; gap:8px; margin-top: 10px; }
        .form-check input[type="checkbox"] {
            width: 1.15rem; height: 1.15rem;
            border: 1px solid var(--bd); border-radius: 4px;
            accent-color: var(--primary); /* ƒê·∫∑t m√†u ch√≠nh cho checkbox */
            cursor: pointer;
        }
        .form-check label { margin:0; font-weight:600; color:var(--text); }
    </style>
</head>
<body>
<section layout:fragment="content">
    <div class="wrap">
        <h1 class="section-title" th:text="${category != null and category.id != null} ? 'üìù S·ª≠a danh m·ª•c' : '‚ú® T·∫°o m·ªõi danh m·ª•c'">T·∫°o m·ªõi danh m·ª•c</h1>

        <div class="card">
            <form th:action="${category != null and category.id != null}
                              ? @{'/admin/catalog/categories/' + ${category.id} + '/edit'}
                              : @{/admin/catalog/categories/new}"
                  method="post" class="stack">

                <input type="hidden" th:if="${_csrf != null}"
                       th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <div>
                    <label for="name" class="label">T√™n danh m·ª•c <span class="required-star">*</span></label>
                    <input type="text" id="name" name="name" class="field"
                           th:value="${category != null} ? ${category.name} : ''" required>
                </div>

                <div>
                    <label for="slug" class="label">URL chu·∫©n h√≥a (Slug) <span class="required-star">*</span></label>
                    <input type="text" id="slug" name="slug" class="field"
                           th:value="${category != null} ? ${category.slug} : ''" required>
                </div>

                <div>
                    <label for="parentId" class="label">Danh m·ª•c cha (Parent Id)</label>
                    <input type="number" id="parentId" name="parentId" class="field"
                           th:value="${category != null and category.parent != null} ? ${category.parent.id} : ''"
                           placeholder="ƒê·ªÉ tr·ªëng n·∫øu l√† danh m·ª•c g·ªëc">
                </div>

                <div class="form-check">
                    <input type="checkbox" id="active" name="active"
                           th:checked="${category == null || category.active == null ? true : category.active}">
                    <label for="active">K√≠ch ho·∫°t (Active)</label>
                </div>

                <div class="form-actions">
                    <a th:href="@{/admin/catalog/categories}" class="btn btn-outline btn-lg">‚Üê Quay l·∫°i</a>
                    <button type="submit" class="btn btn-primary btn-lg"
                            th:text="${category != null and category.id != null} ? 'üíæ C·∫≠p nh·∫≠t' : '‚úÖ T·∫°o m·ªõi'">T·∫°o m·ªõi</button>
                </div>
            </form>
        </div>
    </div>
</section>
</body>
</html>