/* === System › Import/Export — compact, low-contrast weight === */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap");

/* Tokens */
:root{
    --bg:#f7f9fc; --surface:#ffffff; --text:#0f172a; --muted:#64748b;
    --border:#e6eaf0; --shadow:0 1px 2px rgba(15,23,42,.06);
    --radius:6px; --radius-sm:4px;          /* smaller radius */
    --primary:#16a34a;                      /* main green */
    --primary-hover:#126E34;                /* requested hover */
    --ring:0 0 0 2px rgba(22,163,74,.16);   /* nhẹ hơn */
}

/* Base */
html,body{
    margin:0; background:var(--bg); color:var(--text);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    font-weight:400;                         /* chữ bình thường */
}
section[layout\:fragment="content"]{ padding:20px; }
h1{ font-size:1.4rem; font-weight:600; margin:0 0 14px; }   /* nhẹ hơn */
h3{ font-size:1rem; font-weight:500; margin:0 0 10px; color:var(--muted); }

/* Grid */
.grid-2{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:14px; }
@media (max-width:900px){ .grid-2{ grid-template-columns:1fr; } }

/* Card */
.card{
    background:var(--surface); border:1px solid var(--border);
    border-radius:var(--radius); padding:14px; box-shadow:var(--shadow);
}

/* === Fix: tạo khoảng hở giữa viền input và nút Choose File === */
input[type="file"]{
    height:38px;
    border-radius:6px;
    /* thêm chút đệm (một số trình duyệt bỏ qua, nên vẫn dùng margin cho nút bên dưới) */
    padding-left:4px;
}

/* Chrome/Edge/Firefox mới */
input[type="file"]::file-selector-button{
    margin-left:6px;              /* cách mép trái => không “đè” viền */
    margin-right:12px;            /* cách chữ "No file chosen" */
    height:30px; line-height:30px;
    border-radius:6px;
    background:#16a34a; color:#fff; border:0;
    transition:background .15s ease;
    /* vạch ngăn giữa nút và phần text cho gọn mắt */
    box-shadow: inset -1px 0 0 var(--border);
}
input[type="file"]::file-selector-button:hover{ background:#126E34; }

/* Safari/WebKit fallback */
input[type="file"]::-webkit-file-upload-button{
    margin-left:6px;
    margin-right:12px;
    height:30px; line-height:30px;
    border-radius:6px;
    background:#16a34a; color:#fff; border:0;
    box-shadow: inset -1px 0 0 var(--border);
}
input[type="file"]::-webkit-file-upload-button:hover{ background:#126E34; }

/* Nút Upload (bên ngoài input) giữ khoảng cách, không chồng lên viền */
.card input[type="file"] + .btn{ margin-left:12px !important; height:38px; }


/* Buttons */
.btn{
    display:inline-flex; align-items:center; justify-content:center; gap:8px;
    height:38px; padding:0 12px; border-radius:var(--radius);
    font-weight:500; line-height:1;                 /* giảm độ đậm */
    background:var(--primary); color:#fff; border:1px solid transparent;
    cursor:pointer; text-decoration:none;
    transition:background .15s, filter .1s;
}
a.btn, a.btn:link, a.btn:visited{ color:#fff; text-decoration:none; }
.btn:hover{ background:var(--primary-hover); }
.btn:focus{ outline:none; box-shadow:var(--ring); }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Spacing trong card Export */
.card .btn{ margin-right:8px; margin-top:8px; }
.card .btn:first-of-type{ margin-top:0; }

/* Căn hàng upload gọn gàng */
.card input[type="file"] + .btn{ margin-left:8px; }
/* ==== Align chuẩn hàng Import (input file + Upload) ==== */
/* Card có input[type=file] sẽ xếp theo 2 cột: [input chiếm hết] [nút Upload] */
.card:has(> input[type="file"]){
    display:grid;
    grid-template-columns: 1fr auto;
    align-items:center;
    column-gap:10px;
    row-gap:10px;
}
.card:has(> input[type="file"]) h3{
    grid-column:1 / -1;
    margin-bottom:2px; /* sát hơn một chút */
}
.card:has(> input[type="file"]) input[type="file"]{
    width:100%; min-width:0; /* input kéo full, nút đứng cạnh */
}
/* bỏ margin trái cũ, đồng bộ chiều cao nút */
.card:has(> input[type="file"]) input[type="file"] + .btn{
    margin-left:0;
    height:38px;
}

/* Fallback nếu trình duyệt CHƯA hỗ trợ :has() (áp dụng thẻ card đầu tiên trong grid) */
@supports not(selector(:has(*))){
    .grid-2 .card:first-child{
        display:grid;
        grid-template-columns: 1fr auto;
        align-items:center;
        column-gap:10px;
        row-gap:10px;
    }
    .grid-2 .card:first-child h3{ grid-column:1 / -1; margin-bottom:2px; }
    .grid-2 .card:first-child input[type="file"]{ width:100%; min-width:0; }
    .grid-2 .card:first-child input[type="file"] + .btn{ margin-left:0; height:38px; }
}
/* ===== FIX: canh hàng Import, tránh btn đè viền input ===== */

/* Đồng bộ box-sizing để tính toán kích thước chuẩn */
*, *::before, *::after { box-sizing: border-box; }

/* Dùng flex thay vì grid: input full chiều ngang, nút đứng cạnh có khoảng cách rõ */
.card:has(> input[type="file"]){
    display:flex;
    align-items:center;
    gap:12px;            /* tạo khoảng cách giữa input và nút */
    flex-wrap:wrap;
}

/* Tiêu đề chiếm full hàng trên */
.card:has(> input[type="file"]) > h3{
    flex:0 0 100%;
    margin-bottom:4px;
}

/* Input file kéo full, không tràn; viền không bị chạm vào nút */
.card:has(> input[type="file"]) > input[type="file"]{
    flex:1 1 320px;
    min-width:0;
}

/* Nút Upload đứng sát bên phải nhưng KHÔNG chồng lên viền input */
.card:has(> input[type="file"]) > .btn{
    flex:0 0 auto;
    margin:0;            /* xoá margin cũ nếu có */
    height:38px;         /* khớp chiều cao input */
}

/* Xoá mọi margin-left cũ có thể gây chồng lấn */
.card input[type="file"] + .btn{ margin-left:0 !important; }

/* Fallback nếu trình duyệt CHƯA hỗ trợ :has() */
@supports not(selector(:has(*))){
    .grid-2 .card:first-child{
        display:flex; align-items:center; gap:12px; flex-wrap:wrap;
    }
    .grid-2 .card:first-child > h3{ flex:0 0 100%; margin-bottom:4px; }
    .grid-2 .card:first-child > input[type="file"]{ flex:1 1 320px; min-width:0; }
    .grid-2 .card:first-child > .btn{ flex:0 0 auto; margin:0; height:38px; }
}
